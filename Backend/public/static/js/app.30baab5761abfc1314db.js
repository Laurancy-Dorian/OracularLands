webpackJsonp([1],{0:function(t,s){},"0Naw":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mvHQ"),r=e.n(a),o=e("//Fk"),n=e.n(o),i=e("NYxO"),l=e("7+uW");l.a.use(i.a);var c={token:localStorage.getItem("user-token")||"",status:""},u={auth_request:function(t,s){var e=t.commit;t.dispatch;return new n.a(function(t,a){e("AUTH_REQUEST"),l.a.http.post("auth",s).then(function(s){var a=s.data.token;localStorage.setItem("user-token",a),localStorage.setItem("user",r()(s.data.user)),l.a.http.headers.common.Authorization="Bearer "+a,e("AUTH_SUCCESS",a),t(s)}).catch(function(t){e("AUTH_ERROR",t),localStorage.removeItem("user-token"),localStorage.removeItem("user"),a(t)})})},auth_logout:function(t){var s=t.commit;t.dispatch;return new n.a(function(t,e){s("AUTH_LOGOUT"),localStorage.removeItem("user-token"),localStorage.removeItem("user"),delete l.a.http.headers.common.Authorization,t()})}};s.default=new i.a.Store({state:c,getters:{isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status}},actions:u,mutations:{AUTH_REQUEST:function(t){t.status="loading"},AUTH_SUCCESS:function(t,s){t.status="success",t.token=s},AUTH_ERROR:function(t){t.status="error"},AUTH_LOGOUT:function(t,s){t.status="loggedout",t.token=null}}})},"489e":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={components:{storyArcs:e("d4MR").default},data:function(){return{id_user:JSON.parse(localStorage.getItem("user")).id_user,storyArcs:[],path:this.$http.options.root,message_success:"",message_alert:""}},mounted:function(){}},r={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{},[s("storyArcs",{attrs:{id_user:this.id_user}}),this._v(" "),s("div",{staticClass:"container"},[s("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Gamemaster.StoryArcsNew"}}},[this._v(" Ajouter un arc Narratif")])],1)],1)},staticRenderFns:[]},o=e("VU/8")(a,r,!1,null,null,null);s.default=o.exports},"4hca":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Folders")])},staticRenderFns:[]},r=e("VU/8")({},a,!1,null,null,null);s.default=r.exports},ATqF:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{message_success:"",message_alert:"",description_story_arc:"",title_story_arc:"",image_story_arc:""}},methods:{sendForm:function(){var t=this,s=new FormData;this.title_story_arc&&s.append("title_story_arc",this.title_story_arc),this.description_story_arc&&s.append("description_story_arc",this.description_story_arc),this.image_story_arc&&s.append("image_story_arc",this.image_story_arc),this.$http.post("story-arcs",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(s){t.$router.push("/story-arcs/"+s.body.id_story_arc)},function(s){t.message_alert=s.body.errors[0].message})},handleFileUpload:function(){this.image_story_arc=this.$refs.image_story_arc.files[0]}},computed:{send_disabled:function(){return!this.title_story_arc}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[e("div",{staticClass:"row justify-content-md-center"},[t.message_alert?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.message_alert)+"\n  ")]):t._e()]),t._v(" "),e("div",{staticClass:"row justify-content-md-center"},[t.message_success?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_success)+"\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row justify-content-md-center"},[e("div",{staticClass:"tm-block-col col-lg-8 col-md-6 col-sm-12 tm-col-account-settings"},[e("div",{staticClass:"tm-bg-primary-dark tm-block tm-block-settings"},[e("h2",{staticClass:"tm-block-title"},[t._v("Création d'un nouvel arc narratif")]),t._v(" "),e("form",{staticClass:"tm-signup-form row",attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group col-lg-6"},[e("label",{attrs:{for:"title_story_arc"}},[t._v("Titre de l'arc narratif")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.title_story_arc,expression:"title_story_arc",arg:"value"}],staticClass:"form-control validate",attrs:{id:"title_story_arc",name:"title_story_arc",type:"text"},domProps:{value:t.title_story_arc},on:{input:function(s){s.target.composing||(t.title_story_arc=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("label",{attrs:{for:"image_story_arc"}},[t._v("Image")]),t._v(" "),e("div",[e("input",{ref:"image_story_arc",attrs:{type:"file",id:"image_story_arc"},on:{change:function(s){return t.handleFileUpload()}}})])]),t._v(" "),e("div",{staticClass:"form-group col-12"},[e("label",{attrs:{for:"description_story_arc"}},[t._v("Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model:value",value:t.description_story_arc,expression:"description_story_arc",arg:"value"}],staticClass:"form-control validate",attrs:{id:"description_story_arc",name:"description_story_arc",type:"text"},domProps:{value:t.description_story_arc},on:{input:function(s){s.target.composing||(t.description_story_arc=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"form-group col-12"},[e("label",{staticClass:"tm-hide-sm"},[t._v(" ")]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{disabled:t.send_disabled},on:{click:function(s){return s.preventDefault(),t.sendForm(s)}}},[t._v("\n                Envoyer\n              ")])])])])])])])])},staticRenderFns:[]},o=e("VU/8")(a,r,!1,null,null,null);s.default=o.exports},B7nR:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mvHQ"),r=e.n(a),o={data:function(){return{id_user:"",pseudo_user:"",email_user:"",password:"",password2:"",message_alert:"",message_success:""}},computed:{password_confimed:function(){return this.password==this.password2&&this.pseudo_user}},methods:{sendEdit:function(){var t=this,s={},e=0;void 0!==this.pseudo_user&&(s.pseudo_user=this.pseudo_user,e++),void 0!==this.password&&(s.password_user=this.password,e++),e>0&&this.$http.patch("users/"+this.id_user,s).then(function(s){t.message_success="Vos données ont bien été mises à jour",t.message_alert="",localStorage.setItem("user",r()({id_user:t.id_user,pseudo_user:t.pseudo_user}))},function(s){console.log(s),400==s.status?t.message_alert="Vos données ne sont pas correctes":409==s.status&&(t.message_alert="Désolé, ce pseudo est déjà pris"),t.message_success=""})}},mounted:function(){var t=this,s=JSON.parse(localStorage.getItem("user")).id_user;s||(localStorage.removeItem("user-token"),localStorage.removeItem("user"),this.$router.push("auth")),this.$http.get("users/"+s).then(function(s){t.id_user=s.body.id_user,t.email_user=s.body.email_user,t.pseudo_user=s.body.pseudo_user},function(s){console.log(s),localStorage.removeItem("user-token"),localStorage.removeItem("user"),t.$router.push("auth")})}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"row justify-content-md-center"},[t.message_alert?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_alert)+"\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row justify-content-md-center"},[t.message_success?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_success)+"\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row tm-content-row"},[t._m(0),t._v(" "),e("div",{staticClass:"tm-block-col col-lg-8 col-md-6 col-sm-12 tm-col-account-settings"},[e("div",{staticClass:"tm-bg-primary-dark tm-block tm-block-settings"},[e("h2",{staticClass:"tm-block-title"},[t._v("Paramètres du compte")]),t._v(" "),e("form",{staticClass:"tm-signup-form row"},[e("div",{staticClass:"form-group col-lg-6"},[e("div",{staticClass:"font-weight-bold"},[t._v("Pseudo")]),t._v(" "),e("div",[t._v(t._s(t.pseudo_user))])]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("div",{staticClass:"font-weight-bold"},[t._v("Email")]),t._v(" "),e("div",[t._v("\n              "+t._s(t.email_user)+"\n            ")])]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("label",{staticClass:"font-weight-bold",attrs:{for:"password"}},[t._v("Mot de passe")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.password,expression:"password",arg:"value"}],staticClass:"form-control validate",attrs:{id:"password",name:"password",type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("label",{staticClass:"font-weight-bold",attrs:{for:"password2"}},[t._v("Confirmer le mot de passe")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.password2,expression:"password2",arg:"value"}],staticClass:"form-control validate",attrs:{id:"password2",name:"password2",type:"password"},domProps:{value:t.password2},on:{input:function(s){s.target.composing||(t.password2=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"form-group col-12"},[e("label",{staticClass:"tm-hide-sm"},[t._v(" ")]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{disabled:!t.password_confimed},on:{click:function(s){return s.preventDefault(),t.sendEdit(s)}}},[t._v("\n                Mettre à jour le profil\n              ")])])])])])])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tm-block-col col-lg-4 col-md-6 col-sm-12 tm-col-avatar"},[s("div",{staticClass:"tm-bg-primary-dark tm-block tm-block-avatar"},[s("h2",{staticClass:"tm-block-title"},[this._v("Avatar")]),this._v(" "),s("div",{staticClass:"tm-avatar-container"},[s("img",{staticClass:"img-fluid mb-4",attrs:{src:"",alt:"Avatar"}}),this._v(" "),s("a",{staticClass:"tm-avatar-delete-link",attrs:{href:"#"}},[s("i",{staticClass:"far fa-trash-alt tm-product-delete-icon"})])]),this._v(" "),s("button",{staticClass:"btn btn-primary btn-block text-uppercase"},[this._v("\n          Changer la photo\n        ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row justify-content-end"},[s("button",{staticClass:"btn btn-secondary text-uppercase"},[this._v("\n        Supprimer votre compte\n      ")])])])}]},i=e("VU/8")(o,n,!1,null,null,null);s.default=i.exports},Ix7Z:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{pseudo_user:"",id_user:"",message:""}},mounted:function(){var t=this,s=this.$route.params.id;s==JSON.parse(localStorage.getItem("user")).id_user?this.$router.push("/account"):this.$http.get("users/"+s).then(function(s){t.id_user=s.body.id_user,t.pseudo_user=s.body.pseudo_user},function(s){t.message="Cet utilisateur n'existe pas"})}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container mt-5"},[t.message?e("div",{staticClass:"row justify-content-md-center"},[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message)+"\n    ")])]):e("div",{staticClass:"tm-block-col "},[e("div",{staticClass:"tm-bg-primary-dark tm-block"},[e("h2",{staticClass:"tm-block-title"},[t._v(t._s(t.pseudo_user))]),t._v(" "),t._m(0),t._v(" "),e("router-link",{attrs:{to:"/users/"+t.id_user+"/story-arcs"}},[e("button",{staticClass:"btn btn-primary text-uppercase"},[t._v("\n          Voir les Arcs Narratifs de cet utilisateur\n        ")])])],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tm-avatar-container"},[s("img",{staticClass:"img-fluid mb-4",attrs:{src:"",alt:"Avatar"}})])}]},o=e("VU/8")(a,r,!1,null,null,null);s.default=o.exports},KoTh:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("0Naw"),r={props:["msg"],data:function(){return{pseudo_user:"",password_user:"",loading:!1,message_alert:"",message_success:this.msg||""}},computed:{login_disabled:function(){return!this.pseudo_user||!this.password_user}},mounted:function(){var t=this;this.watch_store=a.default.watch(function(){"loading"==a.default.getters.authStatus?t.$emit("loading-on"):t.$emit("loading-off")})},methods:{sendLogin:function(){var t=this,s={pseudo_user:this.pseudo_user,password_user:this.password_user};a.default.dispatch("auth_request",s).then(function(s){t.$http.headers.common.Authorization="Bearer "+localStorage.getItem("user-token"),t.$router.push("account")},function(s){"40006"==s.body.errors[0].code?t.message_alert="Pseudo invalide":"40007"==s.body.errors[0].code?t.message_alert="Mot de passe invalide":t.message_alert=s.body.errors[0].message})},resetMessageAlert:function(){this.message_alert=""}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container",attrs:{id:"auth"}},[e("div",{staticClass:"row justify-content-md-center"},[t.message_alert?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_alert)+"\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row justify-content-md-center"},[t.message_success?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_success)+"\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row centered-screen"},[e("div",{staticClass:"col-12 mx-auto tm-login-col"},[e("div",{staticClass:"tm-bg-primary-dark tm-block tm-block-h-auto"},[e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-12"},[e("form",{staticClass:"text-center tm-login-form form-signin",attrs:{method:"post"},on:{change:t.resetMessageAlert}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("Pseudo")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.pseudo_user,expression:"pseudo_user",arg:"value"}],staticClass:"form-control validate",attrs:{name:"username",type:"text",id:"username",required:""},domProps:{value:t.pseudo_user},on:{input:function(s){s.target.composing||(t.pseudo_user=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group mt-3"},[e("label",{attrs:{for:"password"}},[t._v("Mot de passe")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.password_user,expression:"password_user",arg:"value"}],staticClass:"form-control validate",attrs:{name:"password",type:"password",id:"password",required:""},domProps:{value:t.password_user},on:{input:function(s){s.target.composing||(t.password_user=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group mt-4"},[e("button",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{disabled:t.login_disabled},on:{click:function(s){return s.preventDefault(),t.sendLogin(s)}}},[t._v("\n                  Connexion\n                ")])])]),t._v(" "),e("router-link",{staticClass:"mt-5 btn btn-primary btn-block text-uppercase",attrs:{to:"/forgot-password"}},[t._v("\n              Mot de passe oublié ?\n            ")])],1)])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mx-auto tm-login-col"},[e("router-link",{staticClass:"mt-5 btn btn-primary btn-block text-uppercase",attrs:{to:"/users/new"}},[t._v("\n        Inscription\n      ")])],1)])])},staticRenderFns:[]},n=e("VU/8")(r,o,!1,null,null,null);s.default=n.exports},M93x:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("0Naw"),r={data:function(){return{active:0}},computed:{user_connected:function(){return a.default.getters.isAuthenticated},pseudo_user:function(){return JSON.parse(localStorage.getItem("user")).pseudo_user},id_user:function(){return JSON.parse(localStorage.getItem("user")).id_user}},methods:{signout:function(){var t=this;a.default.dispatch("auth_logout").then(function(){t.$router.push("/")})}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("nav",{staticClass:"navbar navbar-expand-xl pl-5"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/",id:"title-website"}},[e("h1",{staticClass:"tm-site-title mb-0"},[t._v("Oracular   Lands")])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarToggler"}},[e("ul",{staticClass:"navbar-nav mr-auto",attrs:{id:""}},[t.user_connected?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"SessionsPlaying"}}},[e("i",{staticClass:"fas fa-dice"}),t._v("\n          Sessions\n        ")])],1):t._e(),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"StoryArcs"}}},[e("i",{staticClass:"fas fa-book"}),t._v("\n          Arcs Narratifs\n        ")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"Users"},exact:""}},[e("i",{staticClass:"fas fa-users"}),t._v("\n          Utilisateurs\n        ")])],1),t._v(" "),t.user_connected?e("li",{staticClass:"nav-item dropdown"},[t._m(1),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Gamemaster.StoryArcs"}}},[e("i",{staticClass:"fas fa-book"}),e("span",[t._v("Arcs Narratifs")])]),t._v(" "),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Sessions"}}},[e("i",{staticClass:"fas fa-dice"}),e("span",[t._v("Sessions")])]),t._v(" "),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Folders"}}},[e("i",{staticClass:"fas fa-folder-open"}),e("span",[t._v("Documents")])])],1)]):t._e()]),t._v(" "),e("ul",{staticClass:"my-2 navbar-nav my-lg-0"},[t.user_connected?e("li",{staticClass:"nav-item dropdown",attrs:{role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#"}},[e("i",{staticClass:"far fa-user"}),t._v(" "),e("div",[e("span",[t._v(t._s(t.pseudo_user))]),t._v(" "),e("i",{staticClass:"fas fa-angle-down"})])]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Account"}}},[e("i",{staticClass:"fa fa-cog"}),e("span",[t._v("Profil")])]),t._v(" "),e("a",{staticClass:"dropdown-item",on:{click:t.signout}},[e("i",{staticClass:"fas fa-sign-out-alt"}),e("span",[t._v("Déconnexion")])])],1)]):t._e(),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:!t.user_connected,expression:"!user_connected"}],staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"Login"}}},[e("i",{staticClass:"far fa-user"}),t._v(" "),e("span",[t._v("Se connecter")])])],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"navbar-toggler ml-auto mr-0",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("i",{staticClass:"fa fa-bars tm-nav-icon"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-dice-d20"}),this._v(" "),s("div",[s("span",[this._v("Espace MJ")]),this._v(" "),s("i",{staticClass:"fas fa-angle-down"})])])}]},n={components:{Menu:e("VU/8")(r,o,!1,null,null,null).exports},name:"App",data:function(){return{loading:!1}},methods:{startLoadingAnimation:function(){this.loading=!0},endLoadingAnimation:function(){this.loading=!1}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[t.loading?e("div",{staticClass:"loading"},[t._v("Loading…")]):t._e(),t._v(" "),e("div",{staticClass:"main",attrs:{id:"main"}},[e("Menu"),t._v(" "),e("router-view",{on:{"loading-on":t.startLoadingAnimation,"loading-off":t.endLoadingAnimation}})],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("footer",{staticClass:"tm-footer row tm-mt-small",attrs:{id:"footer"}},[s("div",{staticClass:"col-12 font-weight-light"},[s("p",{staticClass:"text-center text-white mb-0 px-4 small"})])])}]},l=e("VU/8")(n,i,!1,null,null,null);s.default=l.exports},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),r=e("/ocq"),o=e("0Naw"),n=function(t,s,e){o.default.getters.isAuthenticated?e("/account"):e()},i=function(t,s,e){o.default.getters.isAuthenticated?e():e("/auth")};a.a.use(r.a);var l=new r.a({mode:"history",routes:[{path:"/auth",name:"Login",component:e("KoTh").default,props:!0,beforeEnter:n},{path:"/users/new",name:"Register",component:e("uuoo").default,beforeEnter:n},{path:"/account",name:"Account",component:e("B7nR").default,beforeEnter:i},{path:"/story-arcs",name:"StoryArcs",component:e("d4MR").default,alias:""},{path:"/story-arcs/:id(\\d+)",name:"StoryArcsDetails",component:e("SHJP").default},{path:"/users/:id_user(\\d+)/story-arcs",name:"StoryArcsByUser",component:e("d4MR").default},{path:"/users",name:"Users",component:e("NhnZ").default},{path:"/users/:id(\\d+)",name:"UsersDetails",component:e("Ix7Z").default,beforeEnter:i},{path:"/sessions-playing",name:"SessionsPlaying",component:e("eqV1").default,beforeEnter:i},{path:"/sessions",name:"Sessions",component:e("eqV1").default,beforeEnter:i},{path:"/gm/folders",name:"Folders",component:e("4hca").default,beforeEnter:i},{path:"/gm",name:"Gamemaster",component:e("cY6E").default,beforeEnter:i,children:[{path:"story-arcs",component:e("489e").default,name:"Gamemaster.StoryArcs"},{path:"story-arcs/new",component:e("ATqF").default,name:"Gamemaster.StoryArcsNew"}]},{path:"*",redirect:"/"}]}),c=e("8+8L"),u=this;a.a.config.productionTip=!0,a.a.use(l),a.a.use(c.a),a.a.http.options.root="http://localhost:3000",a.a.http.headers.common["Access-Control-Allow-Origin"]="*",a.a.http.headers.common["Access-Control-Allow-Headers"]="Access-Control-Allow-Methods, Access-Control-Allow-Origin, Origin, Accept, Content-Type",a.a.http.interceptors.push(function(t,s){t.headers.set("oracular-lands-data","true")}),a.a.http.interceptors.push(function(t,s){s(function(t){401==t.status&&_.dispatch(AUTH_LOGOUT)})}),a.a.http.interceptors.push(function(t,s){s(function(s){t.after&&t.after.call(u,s)})});var d=localStorage.getItem("user-token");d&&(a.a.http.headers.common.Authorization="Bearer "+d);var _=e("0Naw").default,m=e("M93x").default;new a.a({el:"#app",router:l,components:{App:m},template:"<App/>"})},NhnZ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{tabUsers:[]}},mounted:function(){var t=this;this.$http.get("users/").then(function(s){t.tabUsers=s.body},function(t){console.log(t)})},methods:{}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"col-12 "},[e("div",{staticClass:"tm-bg-primary-dark tm-block tm-block-taller"},[e("h2",{staticClass:"tm-block-title"},[t._v("Liste des utilisateurs")]),t._v(" "),e("table",{staticClass:"table table-center table-striped"},[t._m(0),t._v(" "),e("tbody",t._l(t.tabUsers,function(s){return e("tr",{key:s.id_user},[e("th",{attrs:{scope:"row"}},[e("span",{staticClass:"tablespan"},[t._v(t._s(s.id_user))])]),t._v(" "),e("td",[e("span",{staticClass:"tablespan"},[t._v(t._s(s.pseudo_user))])]),t._v(" "),e("td",[e("router-link",{staticClass:"btn btn-primary btn-table",attrs:{to:"/users/"+s.id_user}},[e("span",[t._v("Voir le profil")])]),t._v(" "),e("router-link",{staticClass:"btn btn-secondary btn-table",attrs:{to:"/users/"+s.id_user+"/story-arcs"}},[e("span",[t._v("Arcs Narratifs")])])],1)])}),0)])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("PSEUDO")]),this._v(" "),s("th",{attrs:{scope:"col"}})])])}]},o=e("VU/8")(a,r,!1,null,null,null);s.default=o.exports},SHJP:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid p-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4 col-md-6 col-sm-12"},[e("img",{attrs:{src:t.path+t.image_story_arc}})]),t._v(" "),e("div",{staticClass:"col-lg-8 col-md-6 col-sm-12"},[e("h1",{staticClass:"display-3"},[t._v(" "+t._s(t.title_story_arc))]),t._v(" "),e("p",{staticClass:"lead"},[t._v(t._s(t.description_story_arc))])])]),t._v(" "),e("hr",{staticClass:"my-4"}),t._v(" "),e("h3",[t._v("Sessions disponibles pour cet arc")]),t._v(" "),e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.sessions,function(s){return e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(s.id_session))]),t._v(" "),e("td",[t._v(t._s(s.nbr_players_session))]),t._v(" "),e("td",[t._v(t._s(s.status_session))]),t._v(" "),t._m(1,!0)])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",[this._v("#")]),this._v(" "),s("th",[this._v("Nombre de joueurs")]),this._v(" "),s("th",[this._v("Status")]),this._v(" "),s("th")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("td",[s("button",{staticClass:"btn btn-primary"},[this._v("\n            S'inscrire\n          ")])])}]},r=e("VU/8")({data:function(){return{id_story_arc:"",title_story_arc:"",description_story_arc:"",image_story_arc:"",id_user:!1,path:this.$http.options.root,message:"",sessions:[{id_session:1,status_session:"Annulé",nbr_players_session:"3"},{id_session:2,status_session:"Terminé",nbr_players_session:"3"},{id_session:3,status_session:"En cours",nbr_players_session:"4"},{id_session:4,status_session:"Ouverte",nbr_players_session:"3"},{id_session:5,status_session:"Annulé",nbr_players_session:"2"}]}},methods:{sessionOuverte:function(t){return"Ouverte"==t}},mounted:function(){var t=this;this.$http.get("story-arcs/"+this.$route.params.id).then(function(s){t.id_story_arc=s.body.id_story_arc,t.title_story_arc=s.body.title_story_arc,t.description_story_arc=s.body.description_story_arc,t.image_story_arc=s.body.image_story_arc,t.id_user=s.body.id_user},function(s){t.message="Il n'y a aucun arc"})}},a,!1,null,null,null);s.default=r.exports},cY6E:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("SIDE BAR")])},staticRenderFns:[]},r={components:{sideBar:e("VU/8")({},a,!1,null,null,null).exports}},o={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("side-bar"),this._v(" "),s("router-view")],1)},staticRenderFns:[]},n=e("VU/8")(r,o,!1,null,null,null);s.default=n.exports},d4MR:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={props:["id_user"],data:function(){return{storyArcs:[],path:this.$http.options.root,message:""}},mounted:function(){var t=this,s=void 0;!this.$route.params.id_user&&this.id_user?s=this.id_user:this.$route.params.id_user&&(s=this.$route.params.id_user),s?this.$http.get("users/"+this.$route.params.id_user+"/story-arcs/").then(function(s){s.body.length>0?t.storyArcs=s.body:t.message="Aucun arc narratif"},function(t){console.log(t)}):this.$http.get("story-arcs/").then(function(s){t.storyArcs=s.body},function(s){t.message="Il n'y a aucun arc"})}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[t.message?e("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.message)+"\n      ")]):t._e(),t._v(" "),t._l(t.storyArcs,function(s){return e("div",{staticClass:"div-alternate-background text-center p-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 offset-md-1 mx-3 my-3"},[e("div",{staticClass:"view overlay"},[e("img",{staticClass:"img-fluid img-jumbotron",attrs:{src:t.path+s.image_story_arc,alt:"Image de l'arc narratif"+s.title_story_arc}}),t._v(" "),t._m(0,!0)])]),t._v(" "),e("div",{staticClass:"col-md-7 text-md-left ml-3 mt-3"},[e("h4",{staticClass:"h4 mb-4"},[t._v(t._s(s.title_story_arc))]),t._v(" "),e("p",{staticClass:"font-weight-normal limit-text"},[t._v(t._s(s.description_story_arc))]),t._v(" "),e("p",{staticClass:"font-weight-normal"},[t._v("De\n              "),e("router-link",{attrs:{to:"/users/"+s.id_user}},[t._v(t._s(s.pseudo_user))])],1),t._v(" "),e("router-link",{staticClass:"btn btn-primary",attrs:{to:"/story-arcs/"+s.id_story_arc}},[t._v("Voir la fiche de l'arc")]),t._v(" "),e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/story-arcs/"+s.id_story_arc+"/sessions"}},[t._v("Voir les sessions")])],1)])])})],2)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("a",[s("div",{staticClass:"mask rgba-white-slight"})])}]},o=e("VU/8")(a,r,!1,null,null,null);s.default=o.exports},eqV1:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid p-5"},[e("h2",[t._v("Vos sessions")]),t._v(" "),e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.sessions,function(s){return e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(s.id_session))]),t._v(" "),e("td",[t._v(t._s(s.nbr_players_session))]),t._v(" "),e("td",[t._v(t._s(s.status_session))]),t._v(" "),t._m(1,!0)])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",[this._v("#")]),this._v(" "),s("th",[this._v("Nombre de joueurs")]),this._v(" "),s("th",[this._v("Status")]),this._v(" "),s("th")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("td",[s("button",{staticClass:"btn btn-secondary"},[this._v("\n          Voir\n        ")])])}]},r=e("VU/8")({data:function(){return{id_story_arc:"",title_story_arc:"",description_story_arc:"",image_story_arc:"",id_user:!1,path:this.$http.options.root,message:"",sessions:[{id_session:1,status_session:"Annulé",nbr_players_session:"3"},{id_session:2,status_session:"Terminé",nbr_players_session:"3"},{id_session:3,status_session:"En cours",nbr_players_session:"4"},{id_session:4,status_session:"Ouverte",nbr_players_session:"3"},{id_session:5,status_session:"Annulé",nbr_players_session:"2"}]}},methods:{sessionOuverte:function(t){return"Ouverte"==t}}},a,!1,null,null,null);s.default=r.exports},uuoo:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"row justify-content-md-center"},[t.message_alert?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_alert)+"\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row justify-content-md-center"},[t.message_success?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message_success)+"\n    ")]):t._e()]),t._v(" "),t.show_form?e("div",{staticClass:"row justify-content-md-center"},[e("div",{staticClass:"tm-block-col col-lg-8 col-md-6 col-sm-12 tm-col-account-settings"},[e("div",{staticClass:"tm-bg-primary-dark tm-block tm-block-settings"},[e("h2",{staticClass:"tm-block-title"},[t._v("Inscription")]),t._v(" "),e("form",{staticClass:"tm-signup-form row"},[e("div",{staticClass:"form-group col-lg-6"},[e("label",{attrs:{for:"name"}},[t._v("Pseudo")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.pseudo_user,expression:"pseudo_user",arg:"value"}],staticClass:"form-control validate",attrs:{id:"name",name:"name",type:"text"},domProps:{value:t.pseudo_user},on:{input:function(s){s.target.composing||(t.pseudo_user=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("label",{attrs:{for:"name"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.email_user,expression:"email_user",arg:"value"}],staticClass:"form-control validate",attrs:{id:"email",name:"email",type:"email"},domProps:{value:t.email_user},on:{input:function(s){s.target.composing||(t.email_user=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("label",{attrs:{for:"password"}},[t._v("Mot de passe")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.password,expression:"password",arg:"value"}],staticClass:"form-control validate",attrs:{id:"password",name:"password",type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-lg-6"},[e("label",{attrs:{for:"password2"}},[t._v("Confirmer le mot de passe")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model:value",value:t.password2,expression:"password2",arg:"value"}],staticClass:"form-control validate",attrs:{id:"password2",name:"password2",type:"password"},domProps:{value:t.password2},on:{input:function(s){s.target.composing||(t.password2=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"form-group col-12"},[e("label",{staticClass:"tm-hide-sm"},[t._v(" ")]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-block text-uppercase",attrs:{disabled:!t.data_confirmed},on:{click:function(s){return s.preventDefault(),t.sendAdd(s)}}},[t._v("\n                Inscription\n              ")])])])])])])]):t._e()])},staticRenderFns:[]},r=e("VU/8")({data:function(){return{id_user:"",pseudo_user:"",email_user:"",password:"",password2:"",message_alert:"",message_success:"",show_form:!0}},computed:{data_confirmed:function(){return this.password==this.password2&&this.pseudo_user&&this.email_user&&this.password}},methods:{sendAdd:function(){var t=this,s={},e=0;void 0!==this.pseudo_user&&(s.pseudo_user=this.pseudo_user,e++),void 0!==this.email_user&&(s.email_user=this.email_user,e++),void 0!==this.password&&(s.password_user=this.password,e++),3==e&&this.$http.post("users/",s).then(function(s){t.message_success="Vous vous êtes bien inscrit ! Vous pouvez vous connecter",t.message_alert="",t.password="",t.pseudo_user="",t.email_user="",t.password2="",t.show_form=!1},function(s){400==s.status?t.message_alert="Vos données ne sont pas correctes":409==s.status&&(t.message_alert="Désolé, ce pseudo est déjà pris")})}}},a,!1,null,null,null);s.default=r.exports}},["NHnr"]);
//# sourceMappingURL=app.30baab5761abfc1314db.js.map